<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Oskari RPC example">
    <meta name="author" content="Team Oskari">

    <title>Oskari RPC</title>

    <!-- Bootstrap core CSS -->
    <link href="../../lib/bootstrap-3.3.4/css/bootstrap.min.css" rel="stylesheet">

    <!-- oskari org basic stylesheet -->
    <link href="/css/main.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="style/style.css" rel="stylesheet">


    <!-- libs and javascripts enabling RPC functionality -->
    <script src="../../lib/jquery-1.11.2.min.js"></script>
    <script src="../../lib/lodash-3.8.0.js"></script>
    <script src="../../js/rpc/rpc-client.min.js"></script>
    <script src="../../js/util.js"></script>

    <link rel="stylesheet" type="text/css" href="../../lib/highlightjs/styles/monokai-sublime.css">
    <script src="../../lib/highlightjs/highlight.pack.js"></script>
  </head>
  <body>
    <div class="container">
        <div class="masthead">
            <h1>Oskari RPC examples</h1>
        </div>

        <div class="row">
            <div class="col-sm-12 col-md-6 col-lg-4 full-height-panel">
                <div class="panel panel-default map-panel">
                    <div class="panel-body">
                      <iframe
                            id="publishedMap"
                        src="http://demo.paikkatietoikkuna.fi/published/fi/0fcfd236-5079-49f3-81f3-58af23f534d2"
                        style="border: none; width: 100%; height: 100%;">
                      </iframe>
               </div>

                </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-4 full-height-panel">
                <div class="panel panel-default map-panel form-panel">
                    <div class="panel-body">
                        <h2>
                            Select action
                            <div id="actionSelectContainer" class="actionSelectContainer">
                                <select id="actionSelector">
                                    <option value="gettingStarted" selected>Getting started</option>
                                    <optgroup label="Functions">
                                        <option value="GetAllLayers">Get available map layers</option>
                                        <option value="GetMapPosition">Get map position</option>
                                        <option value="GetMapBbox">Get map bbox</option>
                                        <option value="GetSupportedEvents">Get supported events</option>
                                        <option value="GetSupportedFunctions">Get supported functions</option>
                                        <option value="GetSupportedRequests">Get supported requests</option>
                                        <option value="mapZoomFunctions">Zoom functions</option>
                                        <option value="GetPixelMeasuresInScale">Get pixel measures in scale</option>
                                        <option value="stateHandling">Handle map state</option>
                                        <option value="GetFeatures">Get features</option>
                                        <option value="GetScreenshot">Get a screenshot of the map</option>
                                        <option value="SendUIEvent">Send UI event</option>
                                        <option value="setCursorStyle">Set cursor style</option>

                                    </optgroup>
                                    <optgroup label="Requests">
                                        <option value="GetRouteRequest">Get route</option>
                                        <option value="GetFeedbackServices">Get feedback services (poc)</option>
                                        <option value="GetFeedbackRequest">Get posted feedback data (poc)</option>
                                        <option value="feedback">Post user's feedback data (poc)</option>
                                        <option value="ShowInfoBox">Show or hide info box</option>
                                        <option value="ShowInfoBoxForMarkers">Show info box for marker</option>
                                        <option value="markers">Add or remove  a marker</option>
                                        <option value="showOrHideMarkers">Show or hide a marker</option>
                                        <option value="GetFeatureInfoRequest">Get feature info</option>
                                        <option value="LayerVisibility">Change map layer visibility</option>
                                        <option value="MapLayerUpdateRequests">Change map layer style</option>
                                        <option value="MapMoveRequest">Move map</option>
                                        <!-- <option value="SetRotationRequest">Rotate map</option> -->
                                        <option value="ChangeMapLayerOpacityRequest">Change map layer opacity</option>
                                        <option value="GetUserLocationRequest">Get user's location</option>
                                        <option value="ShowProgressSpinnerRequest">Show a progress spinner</option>
                                        <option value="SearchRequest">Perform a search</option>
                                        <option value="drawing">Drawing requests</option>
                                        <option value="addOrRemoveFeatures">Add or remove vector features</option>
                                        <option value="updateFeatures">Update vector features</option>
                                        <option value="ZoomToFeatures">Zoom to features</option>
                                    </optgroup>
                                    <optgroup label="Events">
                                        <option value="AfterAddMarkerEvent">AfterAddMarkerEvent</option>
                                        <option value="MarkerClickEvent">MarkerClickEvent</option>
                                        <option value="RouteResultEvent">RouteResultEvent</option>
                                        <option value="FeedbackResultEvent">FeedbackResultEvent</option>
                                        <option value="MapClickedEvent">MapClickedEvent</option>
                                        <option value="AfterMapMoveEvent">AfterMapMoveEvent</option>
                                        <option value="UserLocationEvent">UserLocationEvent</option>
                                        <option value="SearchResultEvent">SearchResultEvent</option>
                                        <option value="FeatureEvent">FeatureEvent</option>
                                        <option value="DrawingEvent">DrawingEvent</option>
                                    </optgroup>
                                </select>
                            </div>
                        </h2>
                        <div id="documentationContainer"></div>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-4 full-height-panel">
                <div class="panel map-panel panel-default">
                    <div style="overflow-y: auto;" class="panel-body">
                        <a onClick="jQuery('#debuglog').empty(); return false;">Clear log</a>
                        <div id="debuglog">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </div>

<!-- examples -->

    <script type="text/javascript">
        var documentPathRequest = '/api/requests#1.36.0/';
        var documentPathEvent = '/api/events#1.36.0/';
    </script>

    <!-- getting started -->
    <div style="display: none; visibility: hidden;" id="gettingStarted">
        <h3>Including the necessary stuff to get RPC up and running</h3>
        <div>Including RPC javascript in html available from:<br />
            <a href="https://github.com/oskariorg/rpc-client/tree/master/dist" target="_blank">https://github.com/oskariorg/rpc-client/tree/master/dist</a></div>
        <pre>
            <code class="lang-html hljs xml">
&lt;script src="js/rpc-client.js"&gt;&lt;/script&gt;
            </code>
        </pre>

        <h3>Embedding a published map on your page</h3>
        <pre>
            <code class="lang-html hljs xml">
&lt;iframe id="publishedMap" src="http://www.mydomain.com/idofpublishedmap"
    style="border: none; width: 100%; height: 100%;"&gt;&lt;/iframe&gt;
            </code>
        </pre>

        <h3>Initialising connection</h3>
        IFRAME_DOMAIN must match to the source domain in the iframe.
        <pre>
            <code class="hljs javascript">
// init connection
var IFRAME_DOMAIN = "http://www.mydomain.com";
var iFrame = document.getElementById('publishedMap');
var channel = OskariRPC.connect(
    iFrame,
    IFRAME_DOMAIN
);
            </code>
        </pre>

        <h3>Wait for the channel to get ready for use</h3>
        Also checking that the iframe gives us an expected version of Oskari
        and/or that the Oskari version recognizes our client version.
        <pre>
            <code class="hljs javascript">
channel.onReady(function() {
    //channel is now ready and listening.
    channel.log('Map is now listening');
    var expectedOskariVersion = '1.36.0';
    channel.isSupported(expectedOskariVersion, function(blnSupported) {
        if(blnSupported) {
            channel.log('Client is supported and Oskari version is ' + expectedOskariVersion);
        } else {
            channel.log('Oskari-instance is not the one we expect (' + expectedOskariVersion + ') or client not supported');
            // getInfo can be used to get the current Oskari version
            channel.getInfo(function(oskariInfo) {
                channel.log('Current Oskari-instance reports version as: ', oskariInfo);
            });
        }
    });
    channel.isSupported(function(blnSupported) {
        if(!blnSupported) {
            channel.log('Oskari reported client version (' + OskariRPC.VERSION + ') is not supported.' +
            'The client might work, but some features are not compatible.');
        } else {
            channel.log('Client is supported by Oskari.');
        }
    });
});
            </code>
        </pre>
        <h3>Do your stuff. Send requests, listen to events and call functions.</h3>
        <pre>
            <code class="hljs javascript">
//spinning action on the map
channel.postRequest('ShowProgressSpinnerRequest',[true]);
//listening to events and notifying user
channel.handleEvent('MapClickedEvent', function(data) {
    alert('Map clicked!');
});
//calling functions and doing things with the results
channel.getAllLayers(function (layers) {
    alert('Got '+layers.length+' layers!');
});
            </code>
        </pre>
    </div>





    <!-- requests -->
    <div style="display: none; visibility: hidden;" id="GetRouteRequest">
        <div style="display: block;">
            <button id="btnGetRouteRequest" class="btn btn-primary exampleready" data-example="GetRouteRequestTransit">GetRouteRequest (transit,walk)</button>
            <button id="btnGetRouteRequest" class="btn btn-primary exampleready" data-example="GetRouteRequestWalk">GetRouteRequest (walk)</button>
            <button id="btnGetRouteRequest" class="btn btn-primary exampleready" data-example="GetRouteRequestBicycle">GetRouteRequest (bicycle)</button>
            <div>Find route from Pasila to the center point of the map</div>
        </div>
        <div>
            <a id="getRoute" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/routingService/request/getrouterequest.md';
            document.getElementById("getRoute").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
var data = {
    "fromlat": "6683840",
    "fromlon": "360448",
    "srs": "EPSG:3067",
    "tolat": "6675728",
    "tolon": "394240",
    "mode": "TRANSIT,WALK" // TRANSIT, WALK, BICYCLE, TRAIN and so on
};
channel.postRequest('GetRouteRequest', [data]);
            </code>
        </pre>
    </div>

    <div style="display: none; visibility: hidden;" id="GetFeedbackServices">
        <div style="display: block;">
            <button id="btnGetFeedbackServiceRequest" class="btn btn-primary exampleready" data-example="GetFeedbackServiceRequest">GetFeedbackServiceRequest for a list</button>
            <div>Request feedback service listing</div>
            <button id="btnGetFeedbackServiceRequest2" class="btn btn-primary exampleready" data-example="GetFeedbackServiceRequestWithId">GetFeedbackServiceRequest for metadata of single service.</button>
            <div>Request feedback service metadata.
            <b>Note!</b> if metadata property is false in the listing the details might not be available as it's optional in the Open311 specification.</div>
        </div>
        <div>
            <a id="getFeedbackService" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/feedbackService/request/getfeedbackservicerequest.md';
            document.getElementById("getFeedbackService").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
channel.postRequest('GetFeedbackServiceRequest', []);
channel.postRequest('GetFeedbackServiceRequest', ["180"]);
            </code>
        </pre>
    </div>

    <div style="display: none; visibility: hidden;" id="GetFeedbackRequest">
        <div style="display: block;">
            <button id="btnGetFeedbackRequest" class="btn btn-primary exampleready" data-example="GetFeedbackRequest">GetFeedbackRequest</button>
            <div>Request feedback data on current map area</div>
        </div>
        <div>
            <a id="getFeedback" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/feedbackService/request/getfeedbackrequest.md';
            document.getElementById("getFeedback").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
channel.getMapBbox(function(data) {
    var filterdata = {
        "start_date": "2016-09-01T00:00:00Z",
        "bbox": data.left + ',' + data.bottom + ',' + data.right + ',' + data.top,
        "status": "open,closed"
    };
    var data = {
        "srs": "EPSG:3067",
        "payload": filterdata
    };
    channel.postRequest('GetFeedbackRequest', [data]);
});
            </code>
        </pre>
    </div>

    <div id="feedback" style="display: none;">
        <div id="PostFeedbackRequest">
            <div style="display: block;">
                <button id="btnPostFeedbackRequest" class="btn btn-primary exampleready" geom-type="point"
                        data-example="PostFeedbackRequest">PostFeedbackRequest Point
                </button>
                <div>Request feedback data</div>
            </div>
            <div>
                <a id="postFeedback" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/feedbackService/request/postfeedbackrequest.md';
                document.getElementById("postFeedback").href = documentPathRequest + documentPathEnd;
            </script>
        <pre>
            <code class="hljs javascript">
var postdata = {
    "service_code": "180",
    "description": "Kampin bussipysäkillä on roskakori täynnä",
    "first_name": "Oskari",
    "last_name": "Maanmittaushallitus",
    "lat": "6674188.748000",
    "long": "384717.640000"
};
var data = {
    "srs": "EPSG:3067",
    "payload": postdata
};
channel.postRequest('PostFeedbackRequest', [data]);
            </code>
        </pre>
        </div>
        <div id="PostFeedbackRequest">
            <div style="display: block;">
                <button id="btnPostFeedbackRequest" class="btn btn-primary exampleready"  geom-type="line"
                        data-example="PostFeedbackRequest">PostFeedbackRequest Line
                </button>
                <div>Request feedback data</div>
            </div>
            <div>
                <a id="postFeedback" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/feedbackService/request/postfeedbackrequest.md';
                document.getElementById("postFeedback").href = documentPathRequest + documentPathEnd;
            </script>
        <pre>
            <code class="hljs javascript">
var postdata = {
    "service_code": "180",
    "description": "Vartiosaari kaipaa suojelua",
    "first_name": "Line",
    "last_name": "POC",
    "geometry": {
        "type": "LineString",
        "coordinates": [
            [393000, 6673192],
            [393216, 6673560],
            [393712, 6673864],
            [393736, 6673592]
        ]
    }
};
var data = {
    "srs": "EPSG:3067",
    "payload": postdata
};
channel.postRequest('PostFeedbackRequest', [data]);
            </code>
        </pre>
        </div>
        <div id="PostFeedbackRequest">
            <div style="display: block;">
                <button id="btnPostFeedbackRequest" class="btn btn-primary exampleready"  geom-type="polygon"
                        data-example="PostFeedbackRequest">PostFeedbackRequest Polygon
                </button>
                <div>Request feedback data</div>
            </div>
            <div>
                <a id="postFeedback" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/feedbackService/request/postfeedbackrequest.md';
                document.getElementById("postFeedback").href = documentPathRequest + documentPathEnd;
            </script>
        <pre>
            <code class="hljs javascript">
var postdata = {
     "service_code": "180",
     "description": "Kampin bussipysäkillä on roskakori täynnä",
     "first_name": "Oskari",
     "last_name": "Maanmittaushallitus",
     "geometry": {
         "type": "Polygon",
         "coordinates": [
             [
                 [382472.5, 6677324.5],
                 [382328.5, 6676636.5],
                 [383288.5, 6676332.5],
                 [383528.5, 6677100.5],
                 [382472.5, 6677324.5]
             ]
         ]
     }
 };
 var data = {
     "srs": "EPSG:3067",
     "payload": postdata
 };
 channel.postRequest('PostFeedbackRequest', [data]);
            </code>
        </pre>
        </div>
    </div>

    <div style="display: none; visibility: hidden;" id="ShowInfoBox">
        <button id="btnShowInfoBoxRequest" class="btn btn-primary exampleready" data-example="ShowInfoBoxRequest">InfoBox.ShowInfoBoxRequest</button>
        <div>
            <a id="showInfobox" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'ui/infobox/request/infobox.showinfoboxrequest.md';
            document.getElementById("showInfobox").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
//get map center and then show an infobox at that location
channel.getMapPosition(function(data) {
    var content = [
        {
            'html': '&lt;div&gt;Map position info:&lt;/div&gt;'
        },
        {
            'html': '&lt;div&gt;Center: '+parseInt(data.centerX)+', '+parseInt(data.centerY)+'&lt;/div&gt;',
            'actions': [
                {
                    name: "My link 1",
                    type: "link",
                    action: {
                        info: "this can include any info",
                        info2: "action-object can have any number of params"

                    }
                },
                {
                    name: "My link 2",
                    type: "link",
                    action: {
                        info: "this can include any info",
                        info2: "action-object can have any number of params"
                    }
                }
            ]
        },
        {
            'html': '&lt;div&gt;Zoom level: '+data.zoom+'&lt;/div&gt;'
        },
        {
            'actions': [
                {
                    name: "My link 3",
                    type: "link",
                    action: {
                        info: "this can include any info",
                        info2: "action-object can have any number of params",
                    }
                },
                {
                    name: "My link 4",
                    type: "link",
                    action: {
                        info: "this can include any info",
                        info2: "action-object can have any number of params",
                    }
                },
                {
                    name: "My button 1",
                    type: "button",
                    group: 1,
                    action: {
                       info: "this can include any info",
                        info2: "action-object can have any number of params",
                        buttonInfo: "This button has group 1 and is placed to the same row with other actions that have the same group"
                    }
                },
                {
                    name: "My button 2",
                    type: "button",
                    group: 1,
                    action: {
                        info: "this can include any info",
                        info2: "action-object can have any number of params",
                        buttonInfo: "This button has group 1 and is placed to the same row with other actions that have the same group"
                    }
                }
            ]
        }
    ];
    var data = [
        'myInfoBox',
        'Generic info box',
        content,
        {
            'lon': data.centerX,
            'lat': data.centerY
        },
        {
            colourScheme: {
                bgColour: '#00CCFF',
                titleColour: '#FFFFFF',
                headerColour: '#0066FF',
                iconCls: 'icon-close-white',
                buttonBgColour: '#00CCFF',
                buttonLabelColour: '#FFFFFF',
                linkColour: '#000000'
            },
            font: 'georgia',
            positioning: 'left'
        }
    ];

    channel.postRequest('InfoBox.ShowInfoBoxRequest', data);
    channel.log('InfoBox.ShowInfoBoxRequest posted with data', data);
});
            </code>
        </pre>

         <button id="btnHideInfoBoxRequest" class="btn btn-primary exampleready" data-example="HideInfoBox">InfoBox.HideInfoBoxRequest</button>
        <div>
            <a id="hideInfobox" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'ui/infobox/request/infobox.hideinfoboxrequest.md';
            document.getElementById("hideInfobox").href = documentPathRequest + documentPathEnd;
        </script>
       <pre>
           <code class="hljs javascript">
var infoboxId = 'myInfoBox';
channel.postRequest('InfoBox.HideInfoBoxRequest', [infoboxId]);
channel.log('InfoBox.HideInfoBoxRequest posted with data', infoboxId);

           </code>
       </pre>
    </div>


    <div style="display: none; visibility: hidden;" id="ShowInfoBoxForMarkers">
        <div>
            <a id="AddMarkerRequest2" href="">To the documentation</a>
            <a id="InfoBox.ShowInfoBoxRequest2" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd1 = 'mapping/mapmodule/request/addmarkerrequest.md';
            document.getElementById("AddMarkerRequest2").href = documentPathRequest + documentPathEnd1;
            var documentPathEnd2 = 'ui/infobox/request/infobox.showinfoboxrequest.md';
            document.getElementById("InfoBox.ShowInfoBoxRequest2").href = documentPathRequest + documentPathEnd2;
        </script>
        <div>
            1. Move map
        </div>
            2. Add marker to center of map
            <button id="btnAddMarkerCenterOfMapForInfobox"
                class="btn btn-primary exampleready"
                data-example="AddMarkerRequestCenterOfMapForInfobox">AddMarkerRequest</button>
        <pre>
<code class="hljs javascript">
var MARKER_ID = 'MARKER_WITH_POPUP';
channel.getMapPosition(function(data) {
    // Add marker to center map
    var markerData = {
        x: data.centerX,
        y: data.centerY,
        color: "ff0000",
        msg : '',
        shape: 1, // icon number (0-6)
        size: 3
    };
    channel.postRequest('MapModulePlugin.AddMarkerRequest', [markerData, MARKER_ID]);
    channel.log('MapModulePlugin.AddMarkerRequest posted with data', markerData);
});
</code>
        </pre>
        <div>
            3. Open popup for added marker
            <button id="btnShowInfoBoxRequestForMarker"
                class="btn btn-primary exampleready"
                data-example="ShowInfoBoxRequestForMarker">InfoBox.ShowInfoBoxRequest</button>
        </div>
<pre>
<code class="hljs javascript">
// Open popup for marker
var MARKER_ID = 'MARKER_WITH_POPUP';
var content = [
    {
        'html': '<div>Marker popup</div>'
    }
];
var infoboxData = [
    'markerInfoBox',
    'Marker info box',
    content,
    {
        marker: MARKER_ID
    },
    {
        mobileBreakpoints: {
            width: 0,
            height: 0
        },
        hidePrevious: true
    }
];

channel.postRequest('InfoBox.ShowInfoBoxRequest', infoboxData);
channel.log('InfoBox.ShowInfoBoxRequest posted with data', infoboxData);
</code>
</pre>
    </div>

<!-- ADD OR REMOVE MARKER REQUEST -->
    <div id="markers" style="display:none;">
        In these examples, first zoom to Helsinki to see markers working.

        <div id="AddMarkerRequest">
            <div>Adding markers with Oskari default icons (shape number between 0 and 6)</div>
            <button id="btnMapModulePluginAddMarkerRequest" class="btn btn-primary exampleready" data-example="AddMarkerRequest">MapModulePlugin.AddMarkerRequest</button>
            <div>
                <a id="addMarkers" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/addmarkerrequest.md';
                document.getElementById("addMarkers").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
var data = {
    x: 386020,
    y: 6670057,
    color: "ff0000",
    msg : '',
    shape: 3, // icon number (0-6)
    size: 3
};
channel.postRequest('MapModulePlugin.AddMarkerRequest', [data, MARKER_ID]);
                </code>
            </pre>
        </div>

        <div id="AddMarkerRequest2">
                    <div>Adding markers with own svg icon (happy face icon)</div>
                    <button id="btnMapModulePluginAddMarkerRequest" class="btn btn-primary exampleready" data-example="AddMarkerRequest2">MapModulePlugin.AddMarkerRequest</button>
                    <div>
                        <a id="addMarkers" href="">To the documentation</a>
                    </div>
                    <script type="text/javascript">
                        var documentPathEnd = 'mapping/mapmodule/request/addmarkerrequest.md';
                        document.getElementById("addMarkers").href = documentPathRequest + documentPathEnd;
                    </script>
                    <pre>
                        <code class="hljs javascript">
var data = {
    x: 386020,
    y: 6670057,
    msg : '',
    shape: '&#60;svg width="32" height="32">&#60;g fill="#9955ff" transform="matrix(0.06487924,0,0,0.06487924,0,1.73024e-6)">&#60;g>&#60;path d="M 246.613,0 C 110.413,0 0,110.412 0,246.613 c 0,136.201 110.413,246.611 246.613,246.611 136.2,0 246.611,-110.412 246.611,-246.611 C 493.224,110.414 382.812,0 246.613,0 Z m 96.625,128.733 c 21.128,0 38.256,17.128 38.256,38.256 0,21.128 -17.128,38.256 -38.256,38.256 -21.128,0 -38.256,-17.128 -38.256,-38.256 0,-21.128 17.128,-38.256 38.256,-38.256 z m -196.743,0 c 21.128,0 38.256,17.128 38.256,38.256 0,21.128 -17.128,38.256 -38.256,38.256 -21.128,0 -38.256,-17.128 -38.256,-38.256 0,-21.128 17.128,-38.256 38.256,-38.256 z m 100.738,284.184 c -74.374,0 -138.225,-45.025 -165.805,-109.302 l 48.725,0 c 24.021,39.5 67.469,65.885 117.079,65.885 49.61,0 93.058,-26.384 117.079,-65.885 l 48.725,0 C 385.46,367.892 321.608,412.917 247.233,412.917 Z" />&#60;/g>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;g/>&#60;/g>&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;g transform="translate(0,-461.224)" />&#60;/svg>',
    offsetX: 16, // center point x position from left to right
    offsetY: 16, // center point y position from bottom to up
    size: 3
};
channel.postRequest('MapModulePlugin.AddMarkerRequest', [data, MARKER_ID]);
                        </code>
                    </pre>
                </div>

        <div id="AddMarkerRequest3">
            <div>Adding markers with own icon</div>
            <button id="btnMapModulePluginAddMarkerRequest" class="btn btn-primary exampleready" data-example="AddMarkerRequest3">MapModulePlugin.AddMarkerRequest</button>
            <div>
                <a id="addMarkers" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/addmarkerrequest.md';
                document.getElementById("addMarkers").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
var data = {
    x: 386020,
    y: 6670057,
    shape: 'http://demo.paikkatietoikkuna.fi/Oskari/resources/framework/bundle/mapmodule-plugin/images/marker.png',
    offsetX: 16, // center point x position from left to right
    offsetY: 0 // center point y position from bottom to up
};
channel.postRequest('MapModulePlugin.AddMarkerRequest', [data, MARKER_ID]);
                </code>
            </pre>
        </div>


        <div id="RemoveMarkersRequest">
            <div>Removing markers</div>
            <button id="btnMapModulePluginRemoveMarkersRequest" class="btn btn-primary exampleready" data-example="RemoveMarkersRequest">MapModulePlugin.RemoveMarkersRequest</button>
            <div>
                <a id="removeMarkers" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/removemarkersrequest.md';
                document.getElementById("removeMarkers").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
channel.postRequest('MapModulePlugin.RemoveMarkersRequest', [MARKER_ID]);
// Or all markers
channel.postRequest('MapModulePlugin.RemoveMarkersRequest', []);
                </code>
            </pre>
        </div>
    </div>


<!-- SHOW OR HIDE MARKER -->
<div id="showOrHideMarkers" style="display:none;">
        <div>
            1. Zoom map to Helsinki
        </div>
        <div>
            2. Add marker to map
            <button id="btnMarkerShowHideAddMarker"
                class="btn btn-primary exampleready"
                data-example="ShowHideMarkerAddMarker">MapModulePlugin.AddMarkerRequest</button>
            <div>
                <a id="linkShowHideMarkerAddMarkersToMap" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/addmarkerrequest.md';
                document.getElementById("linkShowHideMarkerAddMarkersToMap").href = documentPathRequest + documentPathEnd;
            </script>
                        <pre>
                <code class="hljs javascript">
var data = {
    x: 386020,
    y: 6670057,
    color: "ff0000",
    msg : '',
    shape: 3, // icon number (0-6)
    size: 3
};
channel.postRequest('MapModulePlugin.AddMarkerRequest', [data, MARKER_ID]);
                </code>
            </pre>
        </div>
        <div>3. Hide marker
            <button id="btnMarkerShowHideHideMarker"
                class="btn btn-primary exampleready"
                data-example="ShowHideMarkerHideMarker">MapModulePlugin.MarkerVisibilityRequest</button>
            <div>
                <a id="linkShowHideMarkerMarkerVisibilityRequest" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/markervisibilityrequest.md';
                document.getElementById("linkShowHideMarkerMarkerVisibilityRequest").href = documentPathRequest + documentPathEnd;
            </script>
                        <pre>
                <code class="hljs javascript">
// If MARKER_ID is not defined then hide all visibled markers
channel.postRequest('MapModulePlugin.MarkerVisibilityRequest', [false, MARKER_ID]);
                </code>
            </pre>
        </div>
        <div>4. Show marker
        <button id="btnMarkerShowHideShowMarker"
                class="btn btn-primary exampleready"
                data-example="ShowHideMarkerShowMarker">MapModulePlugin.MarkerVisibilityRequest</button>
            <div>
                <a id="linkShowHideMarkerMarkerVisibilityRequest2" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/markervisibilityrequest.md';
                document.getElementById("linkShowHideMarkerMarkerVisibilityRequest2").href = documentPathRequest + documentPathEnd;
            </script>
                        <pre>
                <code class="hljs javascript">
// If MARKER_ID is not defined then show all unvisibled markers
channel.postRequest('MapModulePlugin.MarkerVisibilityRequest', [true, MARKER_ID]);
                </code>
            </pre>
        </div>
</div>
<!-- / SHOW OR HIDE MARKER -->



    <div style="display: none; visibility: hidden;" id="GetFeatureInfoRequest">
        <button id="btnMapModulePluginGetFeatureInfoRequest" class="btn btn-primary exampleready" data-example="MapModulePlugin.GetFeatureInfoRequest">MapModulePlugin.GetFeatureInfoRequest</button>
        <div>
            <a id="getFeatureInfo" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/GetFeatureInfoRequest.md';
            document.getElementById("getFeatureInfo").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
//get map center and display and feature info box
channel.getMapPosition(function(data){
    var lonlat = [data.centerX, data.centerY];
    channel.postRequest('MapModulePlugin.GetFeatureInfoRequest', lonlat);
    channel.log('MapModulePlugin.GetFeatureInfoRequest posted with data', lonlat);
});
            </code>
        </pre>
    </div>

    <div style="display: none; visibility: hidden;" id="LayerVisibility">
        <div>Change MAP layer visibility.</div>
        <button id="btnMapModulePluginMapLayerVisibilityRequest" class="btn btn-primary exampleready" data-example="MapLayerVisibilityRequest">MapModulePlugin.MapLayerVisibilityRequest</button>
        <div>
            <a id="mapLayerVisibility" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/MapModulePlugin.MapLayerVisibilityRequest.md';
            document.getElementById("mapLayerVisibility").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
//get a list of all available map layers and toggle the first one
channel.getAllLayers(function (layers) {
    var layer = layers[0];
    channel.postRequest(
            'MapModulePlugin.MapLayerVisibilityRequest',
            [layer.id, !layer.visible]
    );
    channel.log('MapModulePlugin.MapLayerVisibilityRequest sent with '+
        'parameters: ', layer.id + ', ' + !layer.visible);
});
            </code>
        </pre>

        <div>Change VECTOR layer visibility.</div>
        <button id="btnAddFeaturesToMapRequest" class="btn btn-primary exampleready" data-example="AddFeaturesToMapRequest">AddFeaturesToMapRequest</button>
        <button id="btnChangeMapLayerOpacityRequestHide" class="btn btn-primary exampleready" data-example="MapLayerVisibilityRequestHide">Hide vector layer</button>
        <button id="btnChangeMapLayerOpacityRequestShow" class="btn btn-primary exampleready" data-example="MapLayerVisibilityRequestShow">Show vector layer</button>
        <div>
            <a id="changeOpacity" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/changemaplayeropacityrequest.md';
            document.getElementById("changeOpacity").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
//hide layer with id==='VECTOR'
var layer_id = 'VECTOR';
channel.postRequest('MapModulePlugin.MapLayerVisibilityRequest', [layer_id, false]);
//show layer with id==='VECTOR'
channel.postRequest('MapModulePlugin.MapLayerVisibilityRequest', [layer_id, true]);
            </code>
        </pre>
    </div>

    <div style="display: none; visibility: hidden;" id="MapMoveRequest">
        <button id="btnMapMoveRequest" class="btn btn-primary exampleready" data-example="MapMoveRequest">MapMoveRequest</button>
        <div>
            <a id="mapMove" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/MapMoveRequest.md';
            document.getElementById("mapMove").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
var x = 552935,
    y = 7332639,
    zoomLevel = 7;
channel.postRequest(
    'MapMoveRequest', [x, y, zoomLevel]
);
            </code>
        </pre>
    </div>

     <div style="display: none; visibility: hidden;" id="rotate">
        <button id="rotate.map" class="btn btn-primary exampleready" data-example="rotate.map" value="180">rotate.map</button>
        <div>
            <a id="rotateMap" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/maprotator/request/rotate.map.md';
            document.getElementById("rotateMap").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
            channel.postRequest(
                'rotate.map', [180]
            );
            </code>
        </pre>
        <button id="re-rotate.map" class="btn btn-primary exampleready" data-example="rotate.map" >Reset Rotation</button>
        <div>
            <a id="rotateMap" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/maprotator/request/rotate.map.md';
            document.getElementById("mapMove").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
              channel.postRequest(
                  'rotate.map', []
              );
            </code>
        </pre>
    </div>

    <div style="display: none; visibility: hidden;" id="MapLayerUpdateRequests">
        <div>Change map layer style</div>
        <button id="btnMapLayerUpdateRequest" class="btn btn-primary exampleready" data-example="MapLayerUpdateRequest">Set map layer fill style</button>
        <div>
            <a id="mapLayerUpdate" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/changemaplayeropacityrequest.md';
            document.getElementById("mapLayerUpdate").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
        var layerId = 1387;
        var params = {
            SLD_BODY:
                '&lt;StyledLayerDescriptor xmlns=\"http://www.opengis.net/sld\" xmlns:ogc=\"http://www.opengis.net/ogc\" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0.0" xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"&gt;'+
                '    &lt;NamedLayer&gt;'+
                '    &lt;Name&gt;oskari:kunnat2013&lt;/Name&gt;'+
                '    &lt;UserStyle&gt;'+
                '    &lt;Title&gt;SLD Cook Book: Simple polygon&lt;/Title&gt;'+
                '    &lt;FeatureTypeStyle&gt;'+
                '    &lt;Rule&gt;'+
                '    &lt;PolygonSymbolizer&gt;'+
                '    &lt;Fill&gt;'+
                '    &lt;CssParameter name="fill"&gt;#000080&lt;/CssParameter&gt;'+
                '    &lt;CssParameter name="fill-opacity"&gt;#000080&lt;/CssParameter&gt;'+
                '    &lt;/Fill&gt;'+
                '    &lt;/PolygonSymbolizer&gt;'+
                '    &lt;/Rule&gt;'+
                '    &lt;/FeatureTypeStyle&gt;'+
                '    &lt;/UserStyle&gt;'+
                '    &lt;/NamedLayer&gt;'+
                '    &lt;/StyledLayerDescriptor&gt;'
        };

        channel.postRequest('MapModulePlugin.MapLayerUpdateRequest', [layerId, true, params]);
            </code>
        </pre>
        <button id="btnMapLayerUpdateRequestReset" class="btn btn-primary exampleready" data-example="MapLayerUpdateRequestReset">Reset map layer style</button>
        <pre>
            <code class="hljs javascript">
        var layerId = 1387;
        var params = {
            SLD_BODY: null
        };
        channel.postRequest('MapModulePlugin.MapLayerUpdateRequest', [layerId, true, params]);
            </code>
        </pre>

    </div>

    <div style="display: none; visibility: hidden;" id="ChangeMapLayerOpacityRequest">
        <div>Change layer opacity.</div>
        <button id="btnChangeMapLayerOpacityRequest" class="btn btn-primary exampleready" data-example="ChangeMapLayerOpacityRequest">ChangeMapLayerOpacityRequest</button>
        <div>
            <a id="changeOpacity" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/changemaplayeropacityrequest.md';
            document.getElementById("changeOpacity").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
channel.getAllLayers(function (layers) {
    var layer_id = layers[0].id;
    var opacity = layers[0].opacity;
    if (opacity !== 100) {
        new_opacity = 100;
    } else {
        new_opacity = 50;
    }
    channel.postRequest('ChangeMapLayerOpacityRequest', [layer_id, new_opacity]);
    channel.log('ChangeMapLayerOpacityRequest sent with parameters: ', layer_id + ', ' + new_opacity);
});
            </code>
        </pre>
    </div>

    <div style="display: none; visibility: hidden;" id="GetUserLocationRequest">
        <button id="btnMyLocationPluginGetUserLocationRequest" class="btn btn-primary exampleready" data-example="MyLocationPlugin.GetUserLocationRequest">MyLocationPlugin.GetUserLocationRequest</button>
        <div>
            <a id="getUserLocation" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/getuserlocationrequest.md';
            document.getElementById("getUserLocation").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
channel.postRequest('MyLocationPlugin.GetUserLocationRequest', [true]);
            </code>
        </pre>
    </div>

    <div style="display: none; visibility: hidden;" id="ShowProgressSpinnerRequest">
        <button id="btnShowProgressSpinnerRequest" class="btn btn-primary exampleready" data-example="ShowProgressSpinnerRequest">ShowProgressSpinnerRequest</button>
        <div>ShowProgressSpinnerRequest allows starting and stopping a progress indicator on top of the map.</div>
        <div>
            <a id="showProgressSpinner" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/ShowProgressSpinnerRequest.md';
            document.getElementById("showProgressSpinner").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
var isVisible = true;
channel.postRequest('ShowProgressSpinnerRequest',[isVisible]);
            </code>
        </pre>
    </div>

    <div style="display: none; visibility: hidden;" id="SearchRequest">
         <div class="search-group">
            <div class="col-search">
                <input class="search-control" name="search" id="inputSearch" placeholder="Search item">
                <button id="btnSearchRequest" class="btn btn-primary exampleready" data-example="SearchRequest">SearchRequest</button>
            </div>
        </div>
        <div>
            <a id="search" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'framework/search/request/SearchRequest.md';
            document.getElementById("search").href = documentPathRequest + documentPathEnd;
        </script>
        <pre>
            <code class="hljs javascript">
var data = "Vantaa";

channel.postRequest('SearchRequest', [data]);
            </code>
        </pre>
    </div>

    <div id="drawing" style="display: none;">
        <div id="StartDrawingRequest">
            <button id="btnStartDrawingRequest" class="btn btn-primary exampleready" data-example="StartDrawingRequest">DrawTools.StartDrawingRequest</button>
            <div>
                <a id="startDrawing" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/drawtools/request/startdrawingrequest.md';
                document.getElementById("startDrawing").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
var data = ['my functionality id', 'Polygon'];
channel.postRequest('DrawTools.StartDrawingRequest', data);
                </code>
            </pre>
        </div>
        <div id="StopDrawingRequest">
            <button id="btnStopDrawingRequest" class="btn btn-primary exampleready" data-example="StopDrawingRequest">DrawTools.StopDrawingRequest - cancel current drawing</button>
            <div>
                <a id="stopDrawing" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/drawtools/request/stopdrawingrequest.md';
                document.getElementById("stopDrawing").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
var data = ['my functionality id'];
channel.postRequest('DrawTools.StopDrawingRequest', data);
                </code>
            </pre>
        </div>
        <div id="StopDrawingRequestClear">
            <button id="btnStopDrawingRequestClear" class="btn btn-primary exampleready" data-example="StopDrawingRequestClear">DrawTools.StopDrawingRequest - clear drawings</button>
            <pre>
                <code class="hljs javascript">
var data = ['my functionality id', true];
channel.postRequest('DrawTools.StopDrawingRequest', data);
                </code>
            </pre>
        </div>
    </div>

    <div id="updateFeatures" style="display:none;">
        <div id="UpdateFeature">
            <div>Update feature (ol3)</div>

            <div style="margin-top:10px;">You can update feature style for example when you want higlight feature from the map.</div>
            <div>First add feature, feature format can be an WKT or GeoJSON</div>
            <button id="btnAddFeaturesToMapRequestWKT" class="btn btn-primary exampleready" data-example="UpdateFeature_AddWKTFeature">AddFeaturesToMapRequest</button>
            <div>
                <a id="addFeaturesWKT" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/addfeaturestomaprequest.md';
                document.getElementById("addFeaturesWKT").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
// Define a WKT geometry
var WKT = 'POLYGON ((358911.7134508261 6639617.669712467, 358911.7134508261 6694516.612323322, 382536.4910289571 6694516.612323322, 382536.4910289571 6639617.669712467, 358911.7134508261 6639617.669712467))';

// Some attributes for the feature
var attributes = {
  test_property: 1
};

// Styling
var featureStyle = {
  fill: {
    color: 'rgba(0,0,0,0.3)',
  },
  stroke: {
    color: '#FF0000',
    width: 10
  },
  text : {
    scale : 1.3,
    fill : {
      color : 'rgba(0,0,0,1)'
    },
    stroke : {
      color : 'rgba(255,255,255,1)',
      width : 2
    },
    labelProperty: 'test_property'
  }
};

// Add features
channel.postRequest('MapModulePlugin.AddFeaturesToMapRequest', [WKT, {
    layerId: 'MY_VECTOR_LAYER',
    clearPrevious: true,
    layerOptions: null,
    centerTo: false,
    featureStyle: featureStyle,
    attributes: attributes
}]);
                </code>
            </pre>
        </div>

        <div>Now update previously added feature</div>
            <button id="btnAddFeaturesToMapRequestWKT2" class="btn btn-primary exampleready" data-example="UpdateFeature_UpdateWKTFeature">AddFeaturesToMapRequest</button>
            <div>
                <a id="addFeaturesWKT2" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/addfeaturestomaprequest.md';
                document.getElementById("addFeaturesWKT2").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
// For example change stroke style
var featureStyle = {
  stroke: {
    color: '#00FF00',
    width: 5
  }
};

// Define wanted feature attributes
var updatedFeatureAttributes = {'test_property':1};
var params = [updatedFeatureAttributes, {
    featureStyle: featureStyle,
    layerId: 'MY_VECTOR_LAYER'
}];

channel.postRequest(
    'MapModulePlugin.AddFeaturesToMapRequest',
    params
);
                </code>
            </pre>
        </div>
    </div>

    <div id="addOrRemoveFeatures" style="display:none;">
        <div id="AddFeaturesToMapRequest">
            <button id="btnAddFeaturesToMapRequest" class="btn btn-primary exampleready" data-example="AddFeaturesToMapRequest">AddFeaturesToMapRequest</button>
            <button id="btnRemoveFeaturesFromMapRequest" class="btn btn-primary exampleready" data-example="RemoveFeaturesFromMapRequest">RemoveFeaturesFromMapRequest</button>
            <div>AddFeaturesToMapRequest allows adding vector features on the map.</div>
            <div>
                <a id="addFeatures" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/addfeaturestomaprequest.md';
                document.getElementById("addFeatures").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
    var x = 488704;
    var y = 6939136;
    var geojsonObject = {
          'type': 'FeatureCollection',
          'crs': {
            'type': 'name',
            'properties': {
              'name': 'EPSG:3067'
            }
          },
          'features': [
            {
              'type': 'Feature',
              'geometry': {
                'type': 'LineString',
                'coordinates': [[x, y], [x+100000, y+100000]]
              },
              'properties': {
                'test_property': 1
              }
            },
            {
              'type': 'Feature',
              'geometry': {
                'type': 'Point',
                'coordinates': [x, y]
              },
              'properties': {
                'test_property': 2
              }
            }

          ]
        };

    var testOptions = {
        'minResolution': 0,
        'maxResolution': 1000
    };
    var params = [geojsonObject, {
            clearPrevious: true,
            layerOptions: testOptions,
            centerTo: true,
            cursor: 'zoom-in',
            prio: 4,
            minScale: 1451336
        }];

    channel.postRequest(
        'MapModulePlugin.AddFeaturesToMapRequest',
        params
    );
    channel.log('MapModulePlugin.AddFeaturesToMapRequest posted with data', params);

    var geojsonObject2 = {
          'type': 'FeatureCollection',
          'crs': {
            'type': 'name',
            'properties': {
              'name': 'EPSG:3067'
            }
          },
          'features': [
            {
              'type': 'Feature',
              'geometry': {
                'type': 'LineString',
                'coordinates': [[x+30000, y], [x+130000, y+100000]]
              },
              'properties': {
                'test_property': 'Line'
              }
            },
            {
              'type': 'Feature',
              'geometry': {
                'type': 'Point',
                'coordinates': [x+30000, y]
              },
              'properties': {
                'test_property': 'empty'
              }
            }

          ]
        };

    var testOptions2 = {
        'minResolution': 0,
        'maxResolution': 1000
    };
    var params2 = [geojsonObject2, {
            clearPrevious: false,
            layerOptions: testOptions2,
            centerTo: true,
            featureStyle: {
                fill: {
                    color: '#ff0000'
                },
                stroke : {
                    color: '#ff0000',
                    width: 5
                },
                text : {
                    scale : 1.3,
                    fill : {
                        color : 'rgba(0,0,0,1)'
                    },
                    stroke : {
                        color : 'rgba(255,255,255,1)',
                        width : 2
                    },
                    labelProperty: 'test_property'
                }
            },
            cursor: 'zoom-out',
            prio: 1
        }];


    channel.postRequest(
        'MapModulePlugin.AddFeaturesToMapRequest',
        params2
    );
    channel.log('MapModulePlugin.AddFeaturesToMapRequest posted with data', params2);
                </code>
            </pre>
        </div>
         <div id="AddFeaturesToMapUsingSVG">
            <div>Adding features with SVG icon (Oskari SVG-shape numbers: 0 - 6) </div>
            <button id="btnAddFeaturesToMapRequest2" class="btn btn-primary exampleready" data-example="AddFeaturesToMapRequestUsingSVG">AddFeaturesToMapRequest (display point as SVG icon)</button>
            <div>
                <a id="addFeatures" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/addfeaturestomaprequest.md';
                document.getElementById("addFeatures").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
var geojsonObject = {
    'type': 'FeatureCollection',
    'crs': {
      'type': 'name',
      'properties': {
        'name': 'EPSG:3067'
      }
    },
    'features': [
      {
        'type': 'Feature',
        'geometry': {
          'type': 'Point',
          'coordinates': [488704, 6939136]
        },
        'properties': {
          'label': 'I am a point feature!'
        }
      }
    ]
};
var params = [geojsonObject, {
      clearPrevious: false,
      centerTo: true,
      cursor: 'zoom-in',
      featureStyle: {
          image : {
              shape: 2,
              size: 1,
              color: '#ff3300',
              stroke: '#000000'
          },
          text : {
              scale : 1.3,
              fill : {
                  color : 'rgba(0,0,0,1)'
              },
              stroke : {
                  color : 'rgba(255,255,255,1)',
                  width : 2
              },
              labelProperty: 'label',
              offsetX: 65,
              offsetY: 8
          }
      }
}];
channel.postRequest('MapModulePlugin.AddFeaturesToMapRequest', params);
                </code>
            </pre>
        </div>
        <div id="RemoveFeaturesFromMapRequest">
            <div>Remove all features across all vector layers</div>
            <button id="btnRemoveFeaturesFromMapRequest" class="btn btn-primary exampleready" data-example="RemoveFeaturesFromMapRequest">RemoveFeaturesFromMapRequest</button>
            <div>
                <a id="removeFeatures" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/removefeaturesfrommaprequest.md';
                document.getElementById("removeFeatures").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
//annihilate everything
channel.postRequest('MapModulePlugin.RemoveFeaturesFromMapRequest',[]);
                </code>
            </pre>
        </div>
        <div id="RemoveFeaturesFromMapRequest2">
            <div>Remove specific vector features from specific layer</div>
            <button id="btnAddFeaturesToMapRequest" class="btn btn-primary exampleready" data-example="AddFeaturesToMapRequest">AddFeaturesToMapRequest</button>
            <button id="btnRemoveFeaturesFromMapRequest2" class="btn btn-primary exampleready" data-example="RemoveFeaturesFromMapRequest2">RemoveFeaturesFromMapRequest</button>
            <div>
                <a id="removeFeatures" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/request/removefeaturesfrommaprequest.md';
                document.getElementById("removeFeatures").href = documentPathRequest + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
// Remove all feature's whose 'test_property' === 1 from the layer with id==='VECTOR'
channel.postRequest('MapModulePlugin.RemoveFeaturesFromMapRequest',['test_property', 1, 'VECTOR']);
                </code>
            </pre>
        </div>
    </div>

    <div id="ZoomToFeatures" style="display: none;">
        <div>
            <a id="zoomToFeatures" href="">To the documentation</a>
        </div>
        <script type="text/javascript">
            var documentPathEnd = 'mapping/mapmodule/request/zoomtofeaturesrequest.md';
            document.getElementById("zoomToFeatures").href = documentPathRequest + documentPathEnd;
        </script>
        <div>
            1. Add features to map
            <button id="btnAddFeaturesToMapRequest"
                class="btn btn-primary exampleready"
                data-example="AddFeaturesToMapRequestForZooming">AddFeaturesToMapRequest</button>
        </div>
        <div>2. Move map</div>
        <div>
            3. Zoom to all features
            <button id="btnZoomToFeaturesRequest"
                class="btn btn-primary exampleready"
                data-example="ZoomToFeaturesRequest">MapModulePlugin.ZoomToFeaturesRequest</button>
        </div>
        <pre>
                <code class="hljs javascript">
channel.postRequest('MapModulePlugin.ZoomToFeaturesRequest',[]);
                </code>
            </pre>
        <div>
            Zoom to features, where featureType=='parcel' and
            layerId=='testLayer'
            <button id="btnZoomToFeaturesRequest2"
                class="btn btn-primary exampleready"
                data-example="ZoomToFeaturesRequest2">MapModulePlugin.ZoomToFeaturesRequest</button>
        </div>
        <pre>
                <code class="hljs javascript">
var layers = {layer: ['testLayer']};
var features = {'species': ['parcel']};
channel.postRequest('MapModulePlugin.ZoomToFeaturesRequest',[layers, features]);
                </code>
            </pre>
    </div>


    <!-- functions -->
    <div id = "GetAllLayers" style="display:none;">
        <button id="btnGetAllLayers" class="btn btn-primary exampleready">Get all layers</button>
        <div>Gets a list of available map layers</div>
        <pre>
            <code class="hljs javascript">
channel.getAllLayers(function(data){
    channel.log('GetAllLayers: ', data);
});
            </code>
        </pre>
    </div>

    <div id = "GetMapPosition" style="display:none;">
        <button id="btnGetMapPosition" class="btn btn-primary exampleready">Get map position</button>
        <div>Gets current map position</div>
        <pre>
            <code class="hljs javascript">
channel.getMapPosition(function(data){
    channel.log('GetMapPosition: ', data);
});
            </code>
        </pre>
    </div>

    <div id = "GetSupportedEvents" style="display:none;">
        <button id="btnGetSupportedEvents" class="btn btn-primary exampleready">Get supported events</button>
        <div>Gets a list of events the map supports</div>
        <pre>
            <code class="hljs javascript">
channel.getSupportedEvents(function(data){
    channel.log('GetSupportedEvents: ', data);
});
            </code>
        </pre>
    </div>

    <div id = "GetSupportedFunctions" style="display:none;">
        <button id="btnGetSupportedFunctions" class="btn btn-primary exampleready">Get supported functions</button>
        <div>Gets a list of functions the map supports</div>
        <pre>
            <code class="hljs javascript">
channel.getSupportedFunctions(function(data){
    channel.log('GetSupportedFunctions: ', data);
});
            </code>
        </pre>
    </div>

    <div id = "GetSupportedRequests" style="display:none;">
        <button id="btnGetSupportedRequests" class="btn btn-primary exampleready">Get supported requests</button>
        <div>Gets a list of requests the map supports</div>
        <pre>
            <code class="hljs javascript">
channel.getSupportedRequests(function(data){
    channel.log('GetSupportedRequests: ', data);
});
            </code>
        </pre>
    </div>

    <div id = "mapZoomFunctions" style="display:none;">
        <button id="btnGetZoomRange" class="btn btn-primary exampleready" data-example="GetZoomRange">Get zoom range</button>
        <div>Gets the map's zoom range (min, max, current)</div>
        <pre>
            <code class="hljs javascript">
channel.getZoomRange(function(data){
    channel.log('GetZoomRange: ', data);
});
            </code>
        </pre>
        <button id="btnZoomIn" class="btn btn-primary exampleready" data-example="zoomIn">Zoom in</button>
        <div>Zooms in and returns the current zoomlevel after zooming</div>
        <pre>
            <code class="hljs javascript">
channel.zoomIn(function(data){
    channel.log('Zoom level after: ', data);
});
            </code>
        </pre>
        <button id="btnZoomOut" class="btn btn-primary exampleready" data-example="zoomOut">Zoom out</button>
        <div>Zooms out and returns the current zoomlevel after zooming</div>
        <pre>
            <code class="hljs javascript">
channel.zoomOut(function(data){
    channel.log('Zoom level after: ', data);
});
            </code>
        </pre>
        <button id="btnZoomTo" class="btn btn-primary exampleready" data-example="zoomTo">ZoomTo(5)</button>
        <div>Zooms to given zoomlevel and returns the current zoomlevel after zooming (might be different than parameter if parameter is out of range)</div>
        <pre>
            <code class="hljs javascript">
channel.zoomTo([5],function(data){
    channel.log('Zoom level after: ', data);
});
            </code>
        </pre>
    </div>

    <div id = "GetPixelMeasuresInScale" style="display:none;">
        <div class="measure-group">
            <div class="col-measure">
                <input class="plot-scale-control" name="plot-scale" id="inputPlotScale" placeholder="Plot scale for A4 plot area">
                <button id="btnGetPixelMeasuresInScale" class="btn btn-primary exampleready">Get A4 plot area on a map</button>
                <div>Get pixel measures for A4 size plot area in the requested scale. Paper size scale is optimized, if scale is not inserted  / 0-value-scale -> remove plot area box  </div>
            </div>
        </div>
        <pre>
            <code class="hljs javascript">
                var A4_210mm = 210;
                var A4_297mm = 297;
                channel.getPixelMeasuresInScale([[A4_210mm, A4_297mm], scale], function(data){
                channel.log('GetPixelMeasuresInScale: ', data);
                });
            </code>
        </pre>
    </div>

    <div id = "GetMapBbox" style="display:none;">
        <button id="btnGetMapBbox" class="btn btn-primary exampleready">Get map bbox</button>
        <div>Gets the map's current extent</div>
        <pre>
            <code class="hljs javascript">
channel.getMapBbox(function(data){
    channel.log('GetMapBbox: ', data);
});
            </code>
        </pre>
    </div>



    <div id="stateHandling" style="display: none;">
            <button id="btnResetState" class="btn btn-primary exampleready" data-example="resetState">Reset state</button>
            <button id="btnSaveState" class="btn btn-primary exampleready" data-example="saveState">Save state</button>
            <button id="btnLoadState" class="btn btn-primary exampleready" data-example="loadState">Load state</button>
        <div id = "resetState">
            <div>Resets the saved map state</div>
            <pre>
                <code class="hljs javascript">
channel.resetState(function(){
    channel.log('State Reset');
});
                </code>
            </pre>
        </div>

        <div id = "saveState">
            <div>Saves the map's current state</div>
            <pre>
                <code class="hljs javascript">
channel.getCurrentState(function(data){
    this.savedState = data;
    channel.log('GetCurrentState: ', data);
});
                </code>
            </pre>
        </div>

        <div id="loadState">
            <div>Loads a saved map state</div>
            <pre>
                <code class="hljs javascript">
channel.useState([this.savedState], function(){
    channel.log('UseState: ', this.savedState);
});
                </code>
            </pre>
        </div>
        <div id="GetFeatures" style="display: none;">
            <div>
                1. Add features to map
                <button id="btnAddFeaturesToMapRequest"
                    class="btn btn-primary exampleready"
                    data-example="AddFeaturesToMapRequestForZooming">AddFeaturesToMapRequest</button>
            </div>

            <div>
                2. Get features grouped by layers
                <button id="btnGetFeaturesFunction"
                    class="btn btn-primary exampleready" data-example="getFeatures">getFeatures(true)</button>
            </div>
            <pre>
                <code class="hljs javascript">
channel.getFeatures([true], function(data) {
    channel.log('GetFeatures: ', data);
});
                  </code>
            </pre>
            <div>
                Get only layerIds without features
                <button id="btnGetFeaturesFunction"
                    class="btn btn-primary exampleready" data-example="getFeatures">getFeatures()</button>
            </div>
            <pre>
                <code class="hljs javascript">
channel.getFeatures([], function(data) {
    channel.log('GetFeatures: ', data);
});
                  </code>
            </pre>
        </div>
        <div id="GetScreenshot" style="display: none;">
            <button id="btnGetScreenshotFunction"
                class="btn btn-primary exampleready" data-example="getScreenshot">Get screenshot</button>
            <div>
                Get a screenshot of the current map. (Experimental! Also requires suitable, CORS-enabled map layers on the published map.)
            </div>
            <pre>
                <code class="hljs javascript">
channel.getScreenshot(function(data) {
    //set image content to an img tag in your html
    document.getElementById('getScreenshotImgTag').src = data;
});
                  </code>
            </pre>
            <div>
                Screenshot result:
                <img style="border: 1px solid black;max-width:100%;overflow: hidden;" id="getScreenshotImgTag" src=""/>
            </div>
        </div>
		<div id="SendUIEvent" style="display: none;">
			<div>
			    Open/close coordinatetool's popup:
				<button id="btnSendUIEvent"
					class="btn btn-primary exampleready"
					data-example="sendUIEvent">SendUIevent</button>
			</div>
			<pre>
                <code class="hljs javascript">
var toolname = 'coordinatetool';
channel.sendUIEvent([toolname], function(data) {
    channel.log('sendUIEvent: ', data);
});
                  </code>
            </pre>

            <div>
                Toggle the map's center crosshair:
                <button id="toggleCrosshair"
                    class="btn btn-primary exampleready"
                    data-example="toggleCrosshair">Toggle crosshair</button>
            </div>
            <pre>
                <code class="hljs javascript">
var toolname = 'mapmodule.crosshair';
channel.sendUIEvent([toolname], function(data) {
    channel.log('sendUIEvent: ', data);
});
                  </code>
            </pre>
		</div>

        <div id="setCursorStyle" style="display: none;">
            <div>
                <p>
                Sets the cursor style on map. The value can be any valid css cursor value. Not all possible values are supported by all browsers.
                </p>
                <select id="setCursorStyleSelect">
                    <option value="default">default</option>
                    <option value="crosshair">crosshair</option>
                    <option value="move">move</option>
                    <option value="pointer">pointer</option>
                    <option value="progress">progress</option>

                </select>
                <button id="btnSetCursorStyle"
                    class="btn btn-primary exampleready"
                    data-example="setCursorStyle">Set cursor style</button>
            </div>
            <pre>
                <code class="hljs javascript">
            var cursorStyle = jQuery('#setCursorStyleSelect').val();
            channel.setCursorStyle([cursorStyle], function(data) {
                channel.log('setCursorStyle: ', data);
            });
                </code>
            </pre>
        </div>

		<!-- events -->
        <div id="AfterAddMarkerEvent" style="display:none;">
            <div>Occurs after a marker has been added to map</div>
            <div>
                <a id="afterAddMarker" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/event/AfterAddMarkerEvent.md';
                document.getElementById("afterAddMarker").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "id": "SEARCH_RESULT_MARKER"
}
                </code>
            </pre>
        </div>
        <div id="MarkerClickEvent" style="display:none;">
            <div>Occurs after a marker's been clicked</div>
            <div>
                <a id="markerClick" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/event/MarkerClickEvent.md';
                document.getElementById("markerClick").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "id": "REPORT_MARKER"
}
                </code>
            </pre>
        </div>
        <div id="RouteResultEvent" style="display:none;">
            <div>Occurs after a route search has been completed</div>
            <div>
                <a id="routeResult" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/routingService/event/routeresultevent.md';
                document.getElementById("routeResult").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "success": true,
  "plan": {
    "to": {
      "vertexType": "NORMAL",
      "lon": 390034.00018034934,
      "name": "corner of service road and Koirasaarentie",
      "orig": "",
      "lat": 6671672.006009135
    },
    "itineraries": [
      {
        "transfers": 0,
        "walkTime": 381,
        "tooSloped": false,
        "geoJSON": {
          "features": [
            {
              "properties": {
                "startTime": 1450366500000,
                "distance": 476.931,
                "endTime": 1450366881000,
                "mode": "WALK"
              },
              "type": "Feature",
              "geometry": {
                "type": "LineString",
                "coordinates": [
                  [
                    389842.07877171424,
                    6671242.080841911
                  ],
                  [
                    389843.7768205804,
                    6671243.144166887
                  ],
                  [
                    389870.8256342589,
                    6671274.647929972
                  ],
                  [
                    389877.3640309194,
                    6671288.938273188
                  ],
                  [
                    389889.09677866707,
                    6671309.758766002
                  ],
                  [
                    389888.4555012388,
                    6671325.379265161
                  ],
                  [
                    389890.6553711612,
                    6671343.143130694
                  ],
                  [
                    389888.7845465592,
                    6671373.287436124
                  ],
                  [
                    389898.6656690572,
                    6671406.421703335
                  ],
                  [
                    389911.8756084682,
                    6671439.455970851
                  ],
                  [
                    389929.00254671066,
                    6671473.48697394
                  ],
                  [
                    389939.0700160877,
                    6671494.357627388
                  ],
                  [
                    389945.2870980694,
                    6671516.458334743
                  ],
                  [
                    389960.0269640322,
                    6671544.989300754
                  ],
                  [
                    389970.0606493179,
                    6671564.746668732
                  ],
                  [
                    389989.9939904303,
                    6671599.808009706
                  ],
                  [
                    390001.1369856759,
                    6671619.532142801
                  ],
                  [
                    390023.38921349036,
                    6671657.867139279
                  ],
                  [
                    390036.6842070854,
                    6671675.298023889
                  ]
                ]
              }
            }
          ],
          "type": "FeatureCollection"
        },
        "walkDistance": 476.9767692324481,
        "endTime": 1450366881000,
        "elevationGained": 0,
        "startTime": 1450366500000,
        "duration": 381,
        "waitingTime": 0,
        "elevationLost": 0,
        "walkLimitExceeded": false,
        "legs": [
          {
            "to": {
              "vertexType": "NORMAL",
              "lon": 390034.00018034934,
              "name": "corner of service road and Koirasaarentie",
              "arrival": 1450366881000,
              "orig": "",
              "lat": 6671672.006009135
            },
            "arrivalDelay": 0,
            "pathway": false,
            "agencyTimeZoneOffset": 7200000,
            "steps": [
              {
                "absoluteDirection": "NORTHEAST",
                "lon": 389842.5157554888,
                "distance": "91.148",
                "area": "false",
                "stayOn": "false",
                "relativeDirection": "DEPART",
                "alerts": "[{alertHeaderText=Unpaved surface}]",
                "elevation": "[]",
                "streetName": "track",
                "bogusName": "false",
                "lat": 6671242.987759405
              },
              {
                "absoluteDirection": "NORTH",
                "lon": 389888.757125883,
                "distance": "118.40299999999999",
                "area": "false",
                "stayOn": "false",
                "relativeDirection": "CONTINUE",
                "elevation": "[]",
                "streetName": "service road",
                "bogusName": "true",
                "lat": 6671325.437063239
              },
              {
                "absoluteDirection": "NORTHEAST",
                "lon": 389911.95877571765,
                "distance": "267.38",
                "area": "false",
                "stayOn": "false",
                "relativeDirection": "CONTINUE",
                "elevation": "[]",
                "streetName": "Koirasaarentie",
                "bogusName": "false",
                "lat": 6671439.8212151695
              }
            ],
            "from": {
              "vertexType": "NORMAL",
              "lon": 389842.5157554888,
              "name": "track",
              "departure": 1450366500000,
              "lat": 6671242.987759405
            },
            "rentedBike": false,
            "endTime": 1450366881000,
            "mode": "WALK",
            "startTime": 1450366500000,
            "realTime": false,
            "distance": 476.931,
            "duration": 381,
            "interlineWithPreviousLeg": false,
            "departureDelay": 0,
            "route": "",
            "legGeometry": {
              "length": 19,
              "geoJSON": {
                "properties": {
                  "startTime": 1450366500000,
                  "distance": 476.931,
                  "endTime": 1450366881000,
                  "mode": "WALK"
                },
                "type": "Feature",
                "geometry": {
                  "type": "LineString",
                  "coordinates": [
                    [
                      389842.07877171424,
                      6671242.080841911
                    ],
                    [
                      389843.7768205804,
                      6671243.144166887
                    ],
                    [
                      389870.8256342589,
                      6671274.647929972
                    ],
                    [
                      389877.3640309194,
                      6671288.938273188
                    ],
                    [
                      389889.09677866707,
                      6671309.758766002
                    ],
                    [
                      389888.4555012388,
                      6671325.379265161
                    ],
                    [
                      389890.6553711612,
                      6671343.143130694
                    ],
                    [
                      389888.7845465592,
                      6671373.287436124
                    ],
                    [
                      389898.6656690572,
                      6671406.421703335
                    ],
                    [
                      389911.8756084682,
                      6671439.455970851
                    ],
                    [
                      389929.00254671066,
                      6671473.48697394
                    ],
                    [
                      389939.0700160877,
                      6671494.357627388
                    ],
                    [
                      389945.2870980694,
                      6671516.458334743
                    ],
                    [
                      389960.0269640322,
                      6671544.989300754
                    ],
                    [
                      389970.0606493179,
                      6671564.746668732
                    ],
                    [
                      389989.9939904303,
                      6671599.808009706
                    ],
                    [
                      390001.1369856759,
                      6671619.532142801
                    ],
                    [
                      390023.38921349036,
                      6671657.867139279
                    ],
                    [
                      390036.6842070854,
                      6671675.298023889
                    ]
                  ]
                }
              },
              "points": "_senJewtwCAEy@}AYUe@g@[B_@Eu@H{@_@{@k@}@y@e@a@g@Ss@q@c@a@_AcAc@e@eAkA_@m@"
            },
            "transitLeg": false
          }
        ],
        "transitTime": 0
      }
    ],
    "from": {
      "vertexType": "NORMAL",
      "lon": 389842.5157554888,
      "name": "track",
      "orig": "",
      "lat": 6671242.987759405
    },
    "date": 1450366500000
  },
  "requestParameters": {
    "time": "05:35PM",
    "arriveBy": "false",
    "wheelchair": "false",
    "maxWalkDistance": "1000",
    "fromPlace": {
      "lon": 389842.00018067844,
      "lat": 6671244.00601055
    },
    "toPlace": {
      "lon": 390034.00018034934,
      "lat": 6671672.006009135
    },
    "date": "12-17-2015"
  }
}
                </code>
            </pre>
        </div>
        <div id="FeedbackResultEvent" style="display:none;">
            <div>Occurs after a feedback request has been completed</div>
            <div>
                <a id="feedbackResult" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/feedbackService/event/feedbackresultevent.md';
                document.getElementById("feedbackResult").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{


}
                </code>
            </pre>
        </div>
        <div id="MapClickedEvent"  style="display:none;">
            <div>Occurs after the map has been clicked</div>
            <div>
                <a id="mapClicked" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/event/MapClickedEvent.md';
                document.getElementById("mapClicked").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "lon": 423424,
  "lat": 6821888,
  "x": 312,
  "y": 236,
  "ctrlKeyDown": false
}
                </code>
            </pre>
        </div>
        <div id="AfterMapMoveEvent"  style="display:none;">
            <div>Occurs after the map has been moved</div>
            <div>
                <a id="afterMapMove" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/event/AfterMapMoveEvent.md';
                document.getElementById("afterMapMove").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "centerX": 411650.70779123,
  "centerY": 6751897.3481153,
  "zoom": 4,
  "marker": false,
  "scale": 362834
}
                </code>
            </pre>
        </div>
        <div id="UserLocationEvent"  style="display:none;">
            <div>Occurs after user's location is fetched</div>
            <div>
                <a id="userLocation" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/event/userlocationevent.md';
                document.getElementById("userLocation").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "lon": 386436.3607007161,
  "lat": 6672447.439965934
}
                </code>
            </pre>
        </div>
        <div id="SearchResultEvent"  style="display:none;">
            <div>Occurs after a search request</div>
            <div>
                <a id="searchResult" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'framework/search/event/SearchResultEvent.md';
                document.getElementById("searchResult").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "success": true,
  "result": {
    "methods": [
      {},
      {},
      {}
    ],
    "totalCount": 4,
    "locations": [
      {
        "id": 0,
        "rank": 10,
        "lon": "389828.281",
        "village": "Vantaa",
        "name": "Vantaa",
        "zoomScale": 56650,
        "type": "Kunta, kaupunki",
        "lat": "6686279.347"
      },
      {
        "id": 1,
        "rank": 30,
        "lon": "383183.648",
        "village": "Hausjärvi",
        "name": "Vantaa",
        "zoomScale": 11300,
        "type": "Kylä, kaupunginosa tai kulmakunta",
        "lat": "6733424.84"
      },
      {
        "id": 2,
        "rank": 50,
        "lon": "387139.034",
        "village": "Helsinki",
        "name": "Vantaa",
        "zoomScale": 5650,
        "type": "Virtavesi",
        "lat": "6683063.213"
      },
      {
        "id": 3,
        "rank": 50,
        "lon": "383746.169",
        "village": "Nurmijärvi",
        "name": "Vantaa",
        "zoomScale": 2800,
        "type": "Talo",
        "lat": "6708499.96"
      }
    ]
  },
  "requestParameters": "Vantaa"
}
                </code>
            </pre>
        </div>
        <div id="FeatureEvent"  style="display:none;">
            <div>Occurs after adding or removing features to or from map </div>
            <div>
                <a id="featureEvent" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/mapmodule/event/featureevent.md';
                document.getElementById("featureEvent").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "operation": "add",
  "features": [
    {
      "id": "F24",
      "geojson": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "id": "F24",
            "geometry": {
              "type": "LineString",
              "coordinates": [
                [
                  488704,
                  6939136
                ],
                [
                  588704,
                  7039136
                ]
              ]
            },
            "properties": {
              "test_property": 1,
              "oskari-cursor": "zoom-in"
            }
          }
        ]
      },
      "layerId": "VECTOR"
    },
    {
      "id": "F25",
      "geojson": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "id": "F25",
            "geometry": {
              "type": "Point",
              "coordinates": [
                488704,
                6939136
              ]
            },
            "properties": {
              "test_property": 2
            }
          }
        ]
      },
      "layerId": "VECTOR"
    }
  ]
}
                </code>
            </pre>
        </div>
        <div id="DrawingEvent"  style="display:none;">
            <div>Occurs when drawing is in progress</div>
            <div>
                <a id="drawingEvent" href="">To the documentation</a>
            </div>
            <script type="text/javascript">
                var documentPathEnd = 'mapping/drawtools/event/DrawingEvent.md';
                document.getElementById("drawingEvent").href = documentPathEvent + documentPathEnd;
            </script>
            <pre>
                <code class="hljs javascript">
{
  "name": "DrawingEvent",
  "id": "my functionality id",
  "geojson": "{\"type\":\"FeatureCollection\",\"features\":[{\"type\":\"Feature\",\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[356352,6776320],[428032,6776064]]]},\"properties\":{\"area\":\"0 m2\"}}]}",
  "data": {
    "area": "0 m2",
    "bufferedGeoJson": "{\"type\":\"FeatureCollection\",\"features\":[]}",
    "shape": "Polygon"
  },
  "isFinished": true
}
                </code>
            </pre>
        </div>
    </div>
    <div class="messageBox" style="display: none;"></div>
    </div>
  </body>


<script src="./js/example-scripts.js"></script>

</html>
